{% extends 'base.html' %}
{% load static %}
{% block title %} | Compte professeur{% endblock %}

{% block content %}
<!-- Main Content Section -->
<main class="teacher-account-container ">
    <!-- Teacher Account Section -->
    
        <div class="row justify-content-center g-0 ">
            <!-- Sidebar Column -->
            <div class="col-sm-12 col-md-4 col-lg-2 sidebar-column">
                {% include 'partials/_sidebar.html' %}
            </div>
            
            <!-- Main Content Column -->
            <div class="col-sm-12 col-md-8 col-lg-10 main-content-column">
                <!-- Activity Zones Form Section -->
                <section class="activity-zones-section wow fadeInUp" data-wow-delay="0.1s">
                    <!-- Form Header -->
                    <header class="form-header text-center py-4">
                        <h2 class="section-title text-primary">Complétez votre profil</h2>
                        <h1 class="section-heading mb-4">Zones d'activité</h1>
                        <div class="col-12">
                            {% include 'partials/_alerts.html' %}
                        </div>
                    </header>

                    <!-- Activity Zones Form -->
                    <form method="POST" enctype="multipart/form-data" id="formNouvelleZone" action="{% url 'nouveau_zone' %}" class="activity-zones-form">
                        {% csrf_token %}
                        
                        <!-- Zones Selection Section -->
                        <div class="zones-selection-container">
                            <div class="zones-selection-card">
                                <div class="row g-3 ajout-zone" id="supprimerDivZone-1">
                                    <!-- Region Selection -->
                                    <div class="col-md-6">
                                        <label for="reg_id" class="form-label">Région</label>
                                        <select class="form-select" id="reg_id">
                                            <!-- Options will be populated by JS -->
                                        </select>
                                    </div>
                                    
                                    <!-- Department Selection -->
                                    <div class="col-md-6">
                                        <label for="dep_id" class="form-label">Département</label>
                                        <select class="form-select" id="dep_id">
                                            <!-- Options will be populated by JS -->
                                        </select>
                                    </div>
                                    
                                    <!-- Commune Selection -->
                                    <div class="col-md-6">
                                        <label for="com_id" class="form-label">Communes (Sélection multiple)</label>
                                        <select class="form-select communes-select" id="com_id" multiple size="8" name="communes">
                                            <!-- Options will be populated by JS -->
                                        </select>
                                    </div>
                                    
                                    <!-- Selected Zones -->
                                    <div class="col-md-6">
                                        <label for="com_chx_id" class="form-label">Zones sélectionnées</label>
                                        <select class="form-select selected-zones-select" id="com_chx_id" multiple size="8" name="communes_chx">
                                            <!-- Options will be populated by JS -->
                                        </select>
                                    </div>
                                    
                                    <!-- Transfer Buttons -->
                                    <div class="col-12 transfer-buttons">
                                        <div class="d-flex justify-content-center gap-3">
                                            <button type="button" class="btn btn-transfer btn-ajouter" id="btn-ajouter">
                                                <i class="fas fa-arrow-right"></i> Ajouter
                                            </button>
                                            <button type="button" class="btn btn-transfer btn-enlever" id="btn-enlever">
                                                <i class="fas fa-arrow-left"></i> Retirer
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Form Actions -->
                        <div class="form-actions">
                            <div class="row justify-content-between g-3">
                                <div class="col-lg-2 col-md-4 col-sm-6">
                                    <a href="{% url 'profil_prof' id_user=user.id %}" class="btn btn-primary w-100">
                                        Voir votre profil
                                    </a>
                                </div>
                                <div class="col-lg-3 col-md-4 col-sm-6">
                                    <a href="{% url 'nouveau_description' %}" class="btn btn-primary w-100">
                                        Étape suivante
                                    </a>
                                </div>
                                <div class="col-lg-2 col-md-4 col-sm-6">
                                    <button type="submit" class="btn btn-warning w-100" name="btn_enr">
                                        {{ btn_text }}
                                    </button>
                                </div>
                            </div>
                        </div>
                    </form>
                </section>
            </div>
        </div>
    </div>
</main>

<!-- Back to Top Button -->
<a href="#" class="back-to-top-btn btn btn-primary btn-lg rounded-circle">
    <i class="bi bi-arrow-up"></i>
</a>

{% endblock %}

{% block javascript %}
    <script src="{% static 'js/Code_en_plus_nouveau_zone.js' %}"></script>

    <style>
        /* Teacher Account Styles */
.teacher-account-container {
    min-height: 100vh;
    background-color: #f8f9fa;
    
}

.sidebar-column {
    background-color: #ffffff;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
    z-index: 100;
}

.main-content-column {
    padding: 3rem;
    background-color: #f8f9fa;
}

/* Form Header */
.form-header {
    margin-bottom: 2rem;
}

.section-title {
    font-size: 1.5rem;
    font-weight: 600;
    position: relative;
    display: inline-block;
    padding-bottom: 0.5rem;
}

.section-title:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 3px;
    background-color: #0d6efd;
}

.section-heading {
    font-size: 2rem;
    font-weight: 700;
    color: #212529;
}

/* Zones Selection */
.zones-selection-container {
    margin-bottom: 2rem;
}

.zones-selection-card {
    background-color: #ffffff;
    border-radius: 0.5rem;
    padding: 2rem;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.05);
}

.form-label {
    font-weight: 600;
    margin-bottom: 0.5rem;
    color: #495057;
}

.form-select {
    border-radius: 0.375rem;
    padding: 0.5rem 1rem;
    border: 1px solid #ced4da;
    transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
}

.form-select:focus {
    border-color: #86b7fe;
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.25);
}

.communes-select, .selected-zones-select {
    height: auto;
    min-height: 200px;
}

/* Transfer Buttons */
.transfer-buttons {
    margin: 1.5rem 0;
}

.btn-transfer {
    padding: 0.5rem 1.5rem;
    font-weight: 500;
    border-radius: 0.375rem;
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.btn-ajouter {
    background-color: #198754;
    color: white;
}

.btn-ajouter:hover {
    background-color: #157347;
}

.btn-enlever {
    background-color: #dc3545;
    color: white;
}

.btn-enlever:hover {
    background-color: #bb2d3b;
}

/* Form Actions */
.form-actions {
    margin-top: 2rem;
}

.btn-primary {
    background-color: #0d6efd;
    border: none;
    padding: 0.5rem 1rem;
    font-weight: 500;
}

.btn-primary:hover {
    background-color: #0b5ed7;
}

.btn-warning {
    background-color: #ffc107;
    border: none;
    padding: 0.5rem 1rem;
    font-weight: 500;
    color: #212529;
}

.btn-warning:hover {
    background-color: #ffca2c;
}

/* Back to Top Button */
.back-to-top-btn {
    position: fixed;
    bottom: 2rem;
    right: 2rem;
    width: 3rem;
    height: 3rem;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    visibility: hidden;
    transition: all 0.3s ease;
}

.back-to-top-btn.visible {
    opacity: 1;
    visibility: visible;
}

/* Responsive Adjustments */
@media (max-width: 768px) {
    .sidebar-column {
        order: 2;
    }
    
    .main-content-column {
        padding: 1rem;
    }
    
    .zones-selection-card {
        padding: 1rem;
    }
    
    .form-actions .col-sm-6 {
        margin-bottom: 1rem;
    }
}
    </style>
{% endblock %}
